(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{205:function(n,e,t){"use strict";t.r(e);var a=t(0),r=Object(a.a)({},(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[t("h1",{attrs:{id:"创建一个玩耍的库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建一个玩耍的库","aria-hidden":"true"}},[n._v("#")]),n._v(" 创建一个玩耍的库")]),n._v(" "),t("p",[n._v("一个玩耍的库，所以他的有一定数据量，且有一定代表意义。\n所以我们准备创建用户模块的表，这个表拥有 100w 条用户数据。")]),n._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("-- 用户表\nDROP TABLE IF EXISTS `user`;\nCREATE TABLE `user` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `user_sn` varchar(32) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `user_name` varchar(32) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `sex` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `phone` varchar(16) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `create_time` varchar(32) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\n-- 用户密码表\nDROP TABLE IF EXISTS `user_pass`;\nCREATE TABLE `user_pass` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `user_sn` varchar(32) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `password` varchar(64) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n")])])]),t("p",[n._v("创建 100w 条数据")]),n._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("-- 创建一个存储过程，用于循环创建数据\ncreate procedure create_data(a int) \n\tbegin\n        declare i int default 1;\n\twhile i<=a DO -- 循环开始\n        insert into `user` value( i, REPLACE( UUID(), '-', '') , i, floor(1+rand()*2), i, now() );\n        insert into user_pass value (i, i, md5(i));\n        set i=i+1;\n\tend while; -- 循环结束\n\tend;\n\n-- 执行存储过程，这里的 1000000 为入参\ncall create_data(1000000);\n-- 删除存储过程\ndrop procedure if exists create_data;\n")])])]),t("p",[n._v("时间: 2432.784s，大约要花 40 多分钟，等不了那么久的同学也可以创建 10w 条数据先耍着。")])])}),[],!1,null,null,null);e.default=r.exports}}]);